<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capitolo 3 Software | Relazione di tesi:  La serie di Fourier  e una sua applicazione alla grafica</title>
  <meta name="description" content="Relazione di tesi" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Capitolo 3 Software | Relazione di tesi:  La serie di Fourier  e una sua applicazione alla grafica" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Relazione di tesi" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capitolo 3 Software | Relazione di tesi:  La serie di Fourier  e una sua applicazione alla grafica" />
  
  <meta name="twitter:description" content="Relazione di tesi" />
  

<meta name="author" content="Matteo Bramardi, candidato" />
<meta name="author" content="Prof. Paolo Boggiatto, relatore" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="commento.html"/>
<link rel="next" href="bibliografia.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Relazione di tesi</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduzione</a></li>
<li class="chapter" data-level="1" data-path="lavoro.html"><a href="lavoro.html"><i class="fa fa-check"></i><b>1</b> Fasi del lavoro</a><ul>
<li class="chapter" data-level="1.1" data-path="lavoro.html"><a href="lavoro.html#prototipi"><i class="fa fa-check"></i><b>1.1</b> Primi prototipi</a></li>
<li class="chapter" data-level="1.2" data-path="lavoro.html"><a href="lavoro.html#ricerca"><i class="fa fa-check"></i><b>1.2</b> Ricerca teorica</a></li>
<li class="chapter" data-level="1.3" data-path="lavoro.html"><a href="lavoro.html#animazioni"><i class="fa fa-check"></i><b>1.3</b> Animazioni</a></li>
<li class="chapter" data-level="1.4" data-path="lavoro.html"><a href="lavoro.html#presentazione"><i class="fa fa-check"></i><b>1.4</b> Presentazione</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="commento.html"><a href="commento.html"><i class="fa fa-check"></i><b>2</b> Commento alla presentazione</a><ul>
<li class="chapter" data-level="" data-path="commento.html"><a href="commento.html#features"><i class="fa fa-check"></i>Funzionalità</a></li>
<li class="chapter" data-level="2.1" data-path="commento.html"><a href="commento.html#segntrig"><i class="fa fa-check"></i><b>2.1</b> Segnali trigonometrici</a></li>
<li class="chapter" data-level="2.2" data-path="commento.html"><a href="commento.html#seriefourier"><i class="fa fa-check"></i><b>2.2</b> Segnali periodici e serie di Fourier</a></li>
<li class="chapter" data-level="2.3" data-path="commento.html"><a href="commento.html#rapprpunt"><i class="fa fa-check"></i><b>2.3</b> Rappresentazione puntuale</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>3</b> Software</a><ul>
<li class="chapter" data-level="3.1" data-path="software.html"><a href="software.html#softan"><i class="fa fa-check"></i><b>3.1</b> Animazioni</a><ul>
<li class="chapter" data-level="3.1.1" data-path="software.html"><a href="software.html#coordsystem"><i class="fa fa-check"></i><b>3.1.1</b> Sistema di coordinate</a></li>
<li class="chapter" data-level="3.1.2" data-path="software.html"><a href="software.html#progrbar"><i class="fa fa-check"></i><b>3.1.2</b> Barra del progresso</a></li>
<li class="chapter" data-level="3.1.3" data-path="software.html"><a href="software.html#anserie"><i class="fa fa-check"></i><b>3.1.3</b> La serie di Fourier</a></li>
<li class="chapter" data-level="3.1.4" data-path="software.html"><a href="software.html#dft"><i class="fa fa-check"></i><b>3.1.4</b> La trasformata discreta di Fourier</a></li>
<li class="chapter" data-level="3.1.5" data-path="software.html"><a href="software.html#rapprserie"><i class="fa fa-check"></i><b>3.1.5</b> La rappresentazione della serie di Fourier</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="software.html"><a href="software.html#pressoft"><i class="fa fa-check"></i><b>3.2</b> Presentazione</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a><ul>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html#documentazione"><i class="fa fa-check"></i>Documentazioni</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Pubblicato con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><small>Relazione di tesi: </small><br><big><i>La serie di Fourier </i></big><br><small><i>e una sua applicazione alla grafica</i></small></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="software" class="section level1">
<h1><span class="header-section-number">Capitolo 3</span> Software</h1>
<p>Questo capitolo è dedicato ad una discussione dettagliata di alcune delle più interessanti tecniche informatiche e dei programmi impiegati nella realizzazione della presentazione e delle animazioni.</p>
<p>Il <strong>codice</strong> è interamente disponibile su <a href="https://github.com/Bradwave/thesis"><em><strong>GitHub</strong></em></a>.</p>
<p><br></p>
<div id="softan" class="section level2">
<h2><span class="header-section-number">3.1</span> Animazioni</h2>
<p>Le animazioni sono scritte in <em>JavaScript</em> e integrate in una pagina HTML. Per facilitare e velocizzare lo sviluppo, ho fatto ampio uso di <a href="https://p5js.org/"><em><strong>p5.js</strong></em></a>, una libreria grafica <em>open source</em> per il <em>creative coding</em>, che offre una varietà di funzioni per la rappresentazione di <strong>costruzioni geometriche</strong>, il <em>rendering</em> e la manipolazione del DOM.</p>
<p>Ho inoltre implementato diverse <strong>funzionalità</strong> per ottimizzare la gestione di alcuni aspetti delle animazioni.</p>
<p><br></p>
<div id="coordsystem" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Sistema di coordinate</h3>
<p>Data la peculiarità del <strong>sistema di coordinate a schermo</strong> utilizzato da <em>p5.js</em> (contraddistinto dall’origine posizionata nell’angolo in alto a sinistra dello schermo e dall’asse <span class="math inline">\(y\)</span> invertito, come schematizzato in figura) si è reso necessario trovare un <a href="https://github.com/Bradwave/thesis/blob/master/animations/js/utils/coordinateSystem.js">metodo per gestire la conversione</a> in <strong>sistema di coordinate cartesiane</strong>. Quest’ultimo viene <strong>centrato</strong> e <strong>scalato</strong> in base all’altezza e alla larghezza della finestra contenitore e riconfigurato al ridimensionamento della stessa.</p>
<p><img src="_images/screen.png" width="60%" style="display: block; margin: auto;" /></p>
<p>La funzione <em>toCartesian</em> - responsabile della conversione da coordiate a schermo a coordinate cartesiane - tiene conto della dimensione della finestra, informazione contenuta in <em>descaleFactor</em>, e della posizione del centro della finestra:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="software.html#cb1-1"></a><span class="kw">function</span> <span class="at">toCartesian</span>(x<span class="op">,</span> y) <span class="op">{</span></span>
<span id="cb1-2"><a href="software.html#cb1-2"></a>  <span class="kw">let</span> cx <span class="op">=</span> (x <span class="op">-</span> xOrigin) <span class="op">*</span> descaleFactor<span class="op">;</span></span>
<span id="cb1-3"><a href="software.html#cb1-3"></a>  <span class="kw">let</span> cy <span class="op">=</span> (yOrigin <span class="op">-</span> y) <span class="op">*</span> descaleFactor<span class="op">;</span></span>
<span id="cb1-4"><a href="software.html#cb1-4"></a>  <span class="cf">return</span> <span class="at">createVector</span>(cx<span class="op">,</span> cy)<span class="op">;</span></span>
<span id="cb1-5"><a href="software.html#cb1-5"></a><span class="op">}</span></span></code></pre></div>
<p>Lo stesso vale per la funzione inversa, che converte le coordinate cartesiane in coordinate a schermo:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="software.html#cb2-1"></a><span class="kw">function</span> <span class="at">toScreenCoord</span>(x<span class="op">,</span> y) <span class="op">{</span></span>
<span id="cb2-2"><a href="software.html#cb2-2"></a>  <span class="kw">let</span> sx <span class="op">=</span> x <span class="op">*</span> scaleFactor <span class="op">+</span> xOrigin<span class="op">;</span></span>
<span id="cb2-3"><a href="software.html#cb2-3"></a>  <span class="kw">let</span> sy <span class="op">=</span> yOrigin <span class="op">-</span> y <span class="op">*</span> scaleFactor<span class="op">;</span></span>
<span id="cb2-4"><a href="software.html#cb2-4"></a>  <span class="cf">return</span> <span class="at">createVector</span>(sx<span class="op">,</span> sy)<span class="op">;</span></span>
<span id="cb2-5"><a href="software.html#cb2-5"></a><span class="op">}</span></span></code></pre></div>
<p><br></p>
</div>
<div id="progrbar" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Barra del progresso</h3>
<p>La <a href="https://github.com/Bradwave/thesis/blob/master/animations/js/utils/progressGraphics.js"><strong>barra del progresso</strong></a> (o <em>progress bar</em>) è un importante strumento di <strong>accessibilità</strong> e restituisce un <em>feedback</em> in merito al progresso possibile nell’interazione da parte dell’utente con l’animazione. La barra è posizionata sul lato destro dello schermo e monitora il comportamento dell’utente, attivandosi solo durante un’interazione e scomparendo dopo qualche secondo, per non interferire con il resto dell’animazione.</p>
<p>È inoltre accompagnata da un’<strong>icona</strong> di un <strong>mouse</strong>, da me disegnata, che comunica all’utente, con delle apposite frecce pulsati, le azioni possibili.</p>
<p><br></p>
</div>
<div id="anserie" class="section level3">
<h3><span class="header-section-number">3.1.3</span> La serie di Fourier</h3>
<p>Per rappresentare la serie di Fourier di una funzione periodica <span class="math inline">\(f(t)\)</span> occorre <strong>definire</strong> con precisione la <strong>funzione</strong> - in modo che sia anche semplice da replicare graficamente - e calcolarne i <strong>coefficienti di Fourier</strong>.</p>
<div id="polbezier" class="section level4">
<h4><span class="header-section-number">3.1.3.1</span> Polybézier</h4>
<p>Il mezzo ideale per definire la funzione <span class="math inline">\(f(t)\)</span> si è rivelato essere la <em>polybézier</em>.</p>
<p>Una <strong><em>polybézier</em></strong>, o curva di Bézier composta, è una <strong>curva di Bézier</strong> definita a tratti e continua, vale a dire una concatenazione di curve di Bézier. In particolare, si prenderà in esame il caso di una concatenazione di curve di Bézier <strong>cubiche</strong>, ovvero il tracciato percorso dalla curva di parametrizzazione</p>
<p><span class="math display" id="eq:bezier">\[\begin{equation}
    \mathbf{B}(t)=\mathbf{P}_0(1-t)^3+3\mathbf{P}_1t(1-t)^2+2\mathbf{P}_2t^2(1-t)+\mathbf{P}_3t^3 \ , \ t \in [0,1] \ .
    \tag{3.1}
\end{equation}\]</span></p>
<p>La curva passa per i punti <span class="math inline">\(\mathbf{P}_0\)</span> e <span class="math inline">\(\mathbf{P}_3\)</span>, ma non per i punti <span class="math inline">\(\mathbf{P}_1\)</span> e <span class="math inline">\(\mathbf{P}_2\)</span> che sono di <em>controllo</em> e forniscono informazioni direzionali. Il modo più semplice per comprendere la sua natura è visualizzarla:</p>
<p><img src="_images/bezier.png" width="36%" style="display: block; margin: auto;" /></p>
<p>Una <em>polybézier</em> cubica è formata da un numero <span class="math inline">\(M \in \mathbb{N}\)</span> di curve <span class="math inline">\(\mathbf{B}^j(t), \ t \in [0,1], \ j=0,...,M-1\)</span> tali che <span class="math inline">\(\mathbf{B}^j(1)=\mathbf{B}^{j+1}(0)\)</span>. La curva risulterà chiusa se <span class="math inline">\(\mathbf{B}^0(0)=\mathbf{B}^{M-1}(1)\)</span>.<br></p>
<p><img src="_images/polybezier.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Ho disegnato le curve con <a href="https://inkscape.org/"><em><strong>Inkscape</strong></em></a>, un editor grafico vettoriale <em>open source</em>. Il file generato - di formato SVG - può essere aperto con un semplice editor di testo e, al suo interno, ho identificato le coordinate dei punti. Ho poi scritto delle <a href="https://github.com/Bradwave/thesis/blob/master/animations/js/utils/polybezier.js">funzioni <em>JavaScript</em></a> per trasformare una stringa testuale in coordinate numeriche, <strong>trovare le coordinate</strong> di un punto <span class="math inline">\(\mathbf{P}(t)\)</span> giacente sulla curva dato <span class="math inline">\(t\)</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="software.html#cb3-1"></a><span class="at">getPoint</span>(p0<span class="op">,</span> p1<span class="op">,</span> p2<span class="op">,</span> p3<span class="op">,</span> t) <span class="op">{</span></span>
<span id="cb3-2"><a href="software.html#cb3-2"></a>  <span class="kw">let</span> x <span class="op">=</span> <span class="va">p0</span>.<span class="at">x</span> <span class="op">*</span> <span class="at">pow</span>(<span class="dv">1</span> <span class="op">-</span> t<span class="op">,</span> <span class="dv">3</span>) <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> <span class="va">p1</span>.<span class="at">x</span> <span class="op">*</span> t <span class="op">*</span> <span class="at">pow</span>(<span class="dv">1</span> <span class="op">-</span> t<span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb3-3"><a href="software.html#cb3-3"></a>    <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> <span class="va">p2</span>.<span class="at">x</span> <span class="op">*</span> <span class="at">pow</span>(t<span class="op">,</span> <span class="dv">2</span>) <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> t) <span class="op">+</span> <span class="va">p3</span>.<span class="at">x</span> <span class="op">*</span> <span class="at">pow</span>(t<span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb3-4"><a href="software.html#cb3-4"></a>  <span class="kw">let</span> y <span class="op">=</span> <span class="va">p0</span>.<span class="at">y</span> <span class="op">*</span> <span class="at">pow</span>(<span class="dv">1</span> <span class="op">-</span> t<span class="op">,</span> <span class="dv">3</span>) <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> <span class="va">p1</span>.<span class="at">y</span> <span class="op">*</span> t <span class="op">*</span> <span class="at">pow</span>(<span class="dv">1</span> <span class="op">-</span> t<span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb3-5"><a href="software.html#cb3-5"></a>    <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> <span class="va">p2</span>.<span class="at">y</span> <span class="op">*</span> <span class="at">pow</span>(t<span class="op">,</span> <span class="dv">2</span>) <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> t) <span class="op">+</span> <span class="va">p3</span>.<span class="at">y</span> <span class="op">*</span> <span class="at">pow</span>(t<span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb3-6"><a href="software.html#cb3-6"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Complex</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb3-7"><a href="software.html#cb3-7"></a><span class="op">}</span></span></code></pre></div>
<p>e infine <strong>campionare <span class="math inline">\(N\)</span> punti</strong> lungo la <em>polybézier</em>, <strong>distanziati equamente</strong> nella variabile <span class="math inline">\(t \in [0,1]\)</span>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="software.html#cb4-1"></a><span class="at">samplePoints</span>(N) <span class="op">{</span></span>
<span id="cb4-2"><a href="software.html#cb4-2"></a>  <span class="kw">let</span> s <span class="op">=</span> <span class="fl">1.000000</span> <span class="op">/</span> N<span class="op">;</span></span>
<span id="cb4-3"><a href="software.html#cb4-3"></a>  <span class="kw">let</span> M <span class="op">=</span> <span class="kw">this</span>.<span class="va">points</span>.<span class="at">length</span> <span class="op">/</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb4-4"><a href="software.html#cb4-4"></a>  <span class="kw">let</span> sampledPoints <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb4-5"><a href="software.html#cb4-5"></a>  </span>
<span id="cb4-6"><a href="software.html#cb4-6"></a>  <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> M<span class="op">;</span> j<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb4-7"><a href="software.html#cb4-7"></a>    <span class="kw">let</span> points <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-8"><a href="software.html#cb4-8"></a>      <span class="dt">p0</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">points</span>[<span class="dv">3</span> <span class="op">*</span> j]<span class="op">,</span> <span class="dt">p1</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">points</span>[<span class="dv">1</span> <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> j]<span class="op">,</span></span>
<span id="cb4-9"><a href="software.html#cb4-9"></a>      <span class="dt">p2</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">points</span>[<span class="dv">2</span> <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> j]<span class="op">,</span> <span class="dt">p3</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">points</span>[(<span class="dv">3</span> <span class="op">+</span> <span class="dv">3</span> <span class="op">*</span> j)</span>
<span id="cb4-10"><a href="software.html#cb4-10"></a>        <span class="op">%</span> <span class="kw">this</span>.<span class="va">points</span>.<span class="at">length</span>]</span>
<span id="cb4-11"><a href="software.html#cb4-11"></a>    <span class="op">};</span></span>
<span id="cb4-12"><a href="software.html#cb4-12"></a>    <span class="cf">for</span> (<span class="kw">let</span> k <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> k <span class="op">&lt;</span> N<span class="op">;</span> k<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb4-13"><a href="software.html#cb4-13"></a>      sampledPoints[k <span class="op">+</span> j <span class="op">*</span> N] <span class="op">=</span> <span class="kw">this</span>.<span class="at">getPoint</span>(<span class="va">points</span>.<span class="at">p0</span><span class="op">,</span></span>
<span id="cb4-14"><a href="software.html#cb4-14"></a>        <span class="va">points</span>.<span class="at">p1</span><span class="op">,</span> <span class="va">points</span>.<span class="at">p2</span><span class="op">,</span> <span class="va">points</span>.<span class="at">p3</span><span class="op">,</span> k <span class="op">*</span> s)<span class="op">;</span></span>
<span id="cb4-15"><a href="software.html#cb4-15"></a>    <span class="op">}</span></span>
<span id="cb4-16"><a href="software.html#cb4-16"></a>  <span class="op">}</span></span>
<span id="cb4-17"><a href="software.html#cb4-17"></a>  <span class="cf">return</span> sampledPoints<span class="op">;</span></span>
<span id="cb4-18"><a href="software.html#cb4-18"></a><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div id="dft" class="section level3">
<h3><span class="header-section-number">3.1.4</span> La trasformata discreta di Fourier</h3>
<p>Non potendo computare esplicitamente i <strong>coefficienti di Fourier</strong> con l’integrale
<span class="math display">\[ c_n=\frac{1}{a} \int_{0}^{a}f(t)e^{-2 i \pi n \textstyle \frac {t}{a}}dt \ , \]</span>
sono ricorso alla <strong>trasformata discreta di Fourier</strong>.<br>
Per farlo, è necessario assumere che la funzione <span class="math inline">\(f(t)\)</span>, di cui si vogliono calcolare i coefficienti, sia periodica di periodo <span class="math inline">\(a\)</span> e che <span class="math inline">\(N\)</span> dei suoi valori siano equamente distanziati sul periodo:</p>
<p><span class="math display">\[f \bigg( k\frac{a}{N} \bigg)=y_{k} \ , \ \ k=0,1,2,..., N-1 \ .\]</span>
Pertanto, si assume che il segnale <span class="math inline">\(f(t)\)</span> sia campionato a tempi equamente distanziati di <span class="math inline">\(\frac{a}{N}\)</span> unità.<br>
Si assume inoltre che la serie di Fourier converga puntualmente a <span class="math inline">\(f\)</span> e che nei punti di discontinuità</p>
<p><span class="math display">\[f(t)=\frac{1}{2}\big(f(t+)+f(t-)\big) \ .\]</span></p>
<p>Con la <em>formula del trapezio</em>, si ottiene un’<strong>approssimazione</strong> dei coefficienti di Fourier della funzione <span class="math inline">\(f\)</span>:</p>
<p><span class="math display" id="eq:dcoeff">\[\begin{equation}
    c&#39;_n=\frac{1}{N}\sum_{k=0}^{N-1}y_{k}e^{-2\pi in\frac{k}{N}}
    \tag{3.2}
\end{equation}\]</span></p>
<p>Tradotto in termini informatici, la <a href="https://github.com/Bradwave/thesis/blob/master/animations/js/utils/fourier.js">funzione responsabile</a> del computo della trasformata discreta può essere così espressa:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="software.html#cb5-1"></a><span class="kw">function</span> <span class="at">dft</span>(y) <span class="op">{</span></span>
<span id="cb5-2"><a href="software.html#cb5-2"></a>  <span class="kw">const</span> Y <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb5-3"><a href="software.html#cb5-3"></a>  <span class="kw">const</span> N <span class="op">=</span> <span class="va">y</span>.<span class="at">length</span><span class="op">;</span></span>
<span id="cb5-4"><a href="software.html#cb5-4"></a>  </span>
<span id="cb5-5"><a href="software.html#cb5-5"></a>  <span class="cf">for</span> (<span class="kw">let</span> n <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> n <span class="op">&lt;</span> N<span class="op">;</span> n<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb5-6"><a href="software.html#cb5-6"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="kw">new</span> <span class="at">Complex</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb5-7"><a href="software.html#cb5-7"></a>    <span class="cf">for</span> (<span class="kw">let</span> k <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> k <span class="op">&lt;</span> N<span class="op">;</span> k<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb5-8"><a href="software.html#cb5-8"></a>      <span class="kw">const</span> phi <span class="op">=</span> (<span class="op">-</span> TWO_PI <span class="op">*</span> k <span class="op">*</span> n) <span class="op">/</span> N<span class="op">;</span></span>
<span id="cb5-9"><a href="software.html#cb5-9"></a>      <span class="kw">const</span> c <span class="op">=</span> <span class="kw">new</span> <span class="at">Complex</span>(<span class="at">cos</span>(phi)<span class="op">,</span> <span class="at">sin</span>(phi))<span class="op">;</span></span>
<span id="cb5-10"><a href="software.html#cb5-10"></a>      <span class="va">sum</span>.<span class="at">add</span>(y[k].<span class="at">mult</span>(c))<span class="op">;</span></span>
<span id="cb5-11"><a href="software.html#cb5-11"></a>    <span class="op">}</span></span>
<span id="cb5-12"><a href="software.html#cb5-12"></a>    sum <span class="op">=</span> <span class="va">sum</span>.<span class="at">div</span>(N)<span class="op">;</span></span>
<span id="cb5-13"><a href="software.html#cb5-13"></a></span>
<span id="cb5-14"><a href="software.html#cb5-14"></a>    <span class="kw">let</span> freq <span class="op">=</span> n<span class="op">;</span></span>
<span id="cb5-15"><a href="software.html#cb5-15"></a>    <span class="kw">let</span> amp <span class="op">=</span> <span class="va">sum</span>.<span class="at">amp</span>()<span class="op">;</span></span>
<span id="cb5-16"><a href="software.html#cb5-16"></a>    <span class="kw">let</span> phase <span class="op">=</span> <span class="va">sum</span>.<span class="at">phase</span>()<span class="op">;</span></span>
<span id="cb5-17"><a href="software.html#cb5-17"></a>    </span>
<span id="cb5-18"><a href="software.html#cb5-18"></a>    Y[n] <span class="op">=</span> <span class="op">{</span> freq<span class="op">,</span> amp<span class="op">,</span> phase <span class="op">};</span></span>
<span id="cb5-19"><a href="software.html#cb5-19"></a>  <span class="op">}</span></span>
<span id="cb5-20"><a href="software.html#cb5-20"></a>  </span>
<span id="cb5-21"><a href="software.html#cb5-21"></a>  <span class="cf">return</span> Y<span class="op">;</span></span>
<span id="cb5-22"><a href="software.html#cb5-22"></a><span class="op">}</span></span></code></pre></div>
<p>Applicando questo risultato ad una <a href="software.html#polbezier"><em>polybézier</em></a> chiusa e composta da <span class="math inline">\(M\)</span> curve di Bézier cubiche <span class="math inline">\(\mathbf{B}^j(t), \ t \in [0,1], \ j=0,...,M-1\)</span>, si ottiene:</p>
<p><span class="math display" id="eq:beziercoeff">\[\begin{equation}
    c&#39;_n=\frac{1}{M\cdot N&#39;}\sum_{j=0}^{M-1}\sum_{k=0}^{N&#39;-1}\mathbf{B}^{j}\bigg(\frac{k}{N&#39;}\bigg)e^{-2\pi in \textstyle \frac{j\cdot N&#39;+ k}{M\cdot N}}
    \tag{3.3}
\end{equation}\]</span></p>
<p>dove <span class="math inline">\(N&#39;\)</span> è il numero di punti campionati per ogni curva di Bézier che compone la <em>polybébezier</em>.</p>
</div>
<div id="rapprserie" class="section level3">
<h3><span class="header-section-number">3.1.5</span> La rappresentazione della serie di Fourier</h3>
<p>Data la funzione <span class="math inline">\(f(t)\)</span>, ovvero la <em>polybézier</em>, e i coefficienti della serie di Fourier associata, computati con una trasformata discreta di Fourier, si può procedere alla <strong>rappresentazione grafica</strong> della serie. Una funzione si occupa di calcolare i punti del percorso tracciato al variare del tempo (<em>time</em> <span class="math inline">\(\in [0,2\pi]\)</span>) e dati <em>N</em> coefficienti:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="software.html#cb6-1"></a><span class="kw">function</span> <span class="at">epicycles</span>(time) <span class="op">{</span></span>
<span id="cb6-2"><a href="software.html#cb6-2"></a>  <span class="kw">let</span> N <span class="op">=</span> <span class="va">fourier</span>.<span class="at">length</span><span class="op">;</span></span>
<span id="cb6-3"><a href="software.html#cb6-3"></a>  </span>
<span id="cb6-4"><a href="software.html#cb6-4"></a>  <span class="kw">let</span> x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-5"><a href="software.html#cb6-5"></a>  <span class="kw">let</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-6"><a href="software.html#cb6-6"></a></span>
<span id="cb6-7"><a href="software.html#cb6-7"></a>  <span class="cf">for</span> (<span class="kw">let</span> n <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> n <span class="op">&lt;</span> N<span class="op">;</span> n<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb6-8"><a href="software.html#cb6-8"></a>    <span class="kw">let</span> prevx <span class="op">=</span> x<span class="op">;</span></span>
<span id="cb6-9"><a href="software.html#cb6-9"></a>    <span class="kw">let</span> prevy <span class="op">=</span> y<span class="op">;</span></span>
<span id="cb6-10"><a href="software.html#cb6-10"></a></span>
<span id="cb6-11"><a href="software.html#cb6-11"></a>    <span class="kw">let</span> freq <span class="op">=</span> fourier[n].<span class="at">freq</span><span class="op">;</span></span>
<span id="cb6-12"><a href="software.html#cb6-12"></a>    <span class="kw">let</span> radius <span class="op">=</span> fourier[n].<span class="at">amp</span><span class="op">;</span></span>
<span id="cb6-13"><a href="software.html#cb6-13"></a>    <span class="kw">let</span> phase <span class="op">=</span> fourier[n].<span class="at">phase</span><span class="op">;</span></span>
<span id="cb6-14"><a href="software.html#cb6-14"></a></span>
<span id="cb6-15"><a href="software.html#cb6-15"></a>    x <span class="op">+=</span> radius <span class="op">*</span> <span class="at">cos</span>(freq <span class="op">*</span> time <span class="op">+</span> phase)<span class="op">;</span></span>
<span id="cb6-16"><a href="software.html#cb6-16"></a>    y <span class="op">+=</span> radius <span class="op">*</span> <span class="at">sin</span>(freq <span class="op">*</span> time <span class="op">+</span> phase)<span class="op">;</span></span>
<span id="cb6-17"><a href="software.html#cb6-17"></a></span>
<span id="cb6-18"><a href="software.html#cb6-18"></a>    <span class="at">ellipse</span>(prevx<span class="op">,</span> prevy<span class="op">,</span> radius <span class="op">*</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb6-19"><a href="software.html#cb6-19"></a>    <span class="at">line</span>(prevx<span class="op">,</span> prevy<span class="op">,</span> x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb6-20"><a href="software.html#cb6-20"></a>  <span class="op">}</span></span>
<span id="cb6-21"><a href="software.html#cb6-21"></a>  </span>
<span id="cb6-22"><a href="software.html#cb6-22"></a>  <span class="cf">return</span> <span class="at">createVector</span>(x<span class="op">,</span> y)<span class="op">;</span></span>
<span id="cb6-23"><a href="software.html#cb6-23"></a><span class="op">}</span></span></code></pre></div>
<p>I <strong>punti</strong> sono quindi <strong>salvati</strong> in un vettore (<em>path</em>) e <strong>uniti</strong> per formare il percorso:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="software.html#cb7-1"></a><span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">path</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">++</span>) <span class="op">{</span></span>
<span id="cb7-2"><a href="software.html#cb7-2"></a>  <span class="at">line</span>(path[i].<span class="at">x</span><span class="op">,</span> path[i].<span class="at">y</span><span class="op">,</span> path[i<span class="op">+</span><span class="dv">1</span>].<span class="at">x</span><span class="op">,</span> path[i<span class="op">+</span><span class="dv">1</span>].<span class="at">y</span>)<span class="op">;</span></span>
<span id="cb7-3"><a href="software.html#cb7-3"></a><span class="op">}</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="pressoft" class="section level2">
<h2><span class="header-section-number">3.2</span> Presentazione</h2>
<p>Come già spiegato in un <a href="#presentzione">precedente capitolo</a>, le slide sono state create attraverso il <em>framework</em> per presentazioni HTML <a href="https://revealjs.com/"><em><strong>Reveal.js</strong></em></a>, modificato e <strong>personalizzato</strong> per meglio adattarsi alla <a href="lavoro.html#filosofia">visione artistica</a> generale del progetto. <em>Reveal.js</em> permette di scrivere la presentazione usando il noto linguaggio di <em>markup</em> HTML. Questo approccio offre numerosi vantaggi: la <em>portabilità</em> del file su molti dispositivi, la compattezza del file e la possibilità di una semplice diffusione online.<br>
Inoltre, l’aspetto estetico può essere controllato tramite un <a href="https://github.com/Bradwave/thesis/blob/master/dist/theme/math.css">apposito <em>style sheet</em> CSS</a> in modo rapido e preciso.</p>
<p>La scelta è ricaduta su questo approccio per la necessità di <strong>integrare fluidamente</strong> le animazioni. <em>Reveal.js</em> consente infatti di visualizzare pagine web sullo sfondo delle slide; ciò mi ha permesso di collegare i file HTML contententi le animazioni.<br></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb8-1"><a href="software.html#cb8-1"></a><span class="co">&lt;!-- Convergenza --&gt;</span></span>
<span id="cb8-2"><a href="software.html#cb8-2"></a><span class="kw">&lt;section</span></span>
<span id="cb8-3"><a href="software.html#cb8-3"></a><span class="ot">  data-background-iframe=</span><span class="st">&quot;https://bradwave.github.io/thesis/animations/s4-animation.html&quot;</span></span>
<span id="cb8-4"><a href="software.html#cb8-4"></a><span class="ot">	data-preload data-auto-animate</span><span class="kw">&gt;</span></span>
<span id="cb8-5"><a href="software.html#cb8-5"></a>	<span class="kw">&lt;h4&gt;</span>2.2.1 Convergenza dell&#39;approssimazione $ $<span class="kw">&lt;/h4&gt;</span></span>
<span id="cb8-6"><a href="software.html#cb8-6"></a>	<span class="kw">&lt;hr&gt;</span></span>
<span id="cb8-7"><a href="software.html#cb8-7"></a>	<span class="kw">&lt;p</span><span class="ot"> style=</span><span class="st">&quot;margin-top: -1%;&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-8"><a href="software.html#cb8-8"></a>		Cosa succede a $f_N$ per $N \rightarrow + \infty$ ?</span>
<span id="cb8-9"><a href="software.html#cb8-9"></a>	<span class="kw">&lt;/p&gt;</span></span>
<span id="cb8-10"><a href="software.html#cb8-10"></a>	<span class="kw">&lt;blockquote</span><span class="ot"> class=</span><span class="st">&quot;example&quot;</span><span class="ot"> style=</span><span class="st">&quot;width: 80%; margin-top: 5px;</span></span>
<span id="cb8-11"><a href="software.html#cb8-11"></a><span class="st">	  margin-bottom: 5px; position: relative;&quot;</span><span class="ot"> data-id=</span><span class="st">&quot;block&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-12"><a href="software.html#cb8-12"></a>		<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;fragment fade-down&quot;</span><span class="ot"> data-fragment-index=</span><span class="st">&quot;2&quot;</span></span>
<span id="cb8-13"><a href="software.html#cb8-13"></a><span class="ot">			style=</span><span class="st">&quot;position: absolute;</span></span>
<span id="cb8-14"><a href="software.html#cb8-14"></a><span class="st">			  margin-left: auto; margin-right: auto; left: 0; right: 0;&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-15"><a href="software.html#cb8-15"></a>			$$ \text{approssimata da: } \ f_N(t)=\frac{4}{\pi} \left( sin(t) +</span>
<span id="cb8-16"><a href="software.html#cb8-16"></a>			\frac{1}{3}sin(3t) +</span>
<span id="cb8-17"><a href="software.html#cb8-17"></a>			\frac{1}{3}sin(5t) + ...</span>
<span id="cb8-18"><a href="software.html#cb8-18"></a>			\right) $$</span>
<span id="cb8-19"><a href="software.html#cb8-19"></a>		<span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-20"><a href="software.html#cb8-20"></a>		<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;fragment fade-down&quot;</span><span class="ot"> data-fragment-index=</span><span class="st">&quot;1&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-21"><a href="software.html#cb8-21"></a>			<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;fragment fade-out&quot;</span><span class="ot"> data-fragment-index=</span><span class="st">&quot;2&quot;</span></span>
<span id="cb8-22"><a href="software.html#cb8-22"></a><span class="ot">				style=</span><span class="st">&quot;position: relative;</span></span>
<span id="cb8-23"><a href="software.html#cb8-23"></a><span class="st">				margin-left: auto; margin-right: auto; left: 0; right: 0;&quot;</span><span class="kw">&gt;</span></span>
<span id="cb8-24"><a href="software.html#cb8-24"></a>				$$ \textit{Esempio: } \ f(t) =</span>
<span id="cb8-25"><a href="software.html#cb8-25"></a>				\begin{cases}</span>
<span id="cb8-26"><a href="software.html#cb8-26"></a>				+1, <span class="er">&amp;</span> \text{se $ \ 0 \le t \lt \pi $} \\</span>
<span id="cb8-27"><a href="software.html#cb8-27"></a>				-1, <span class="er">&amp;</span> \text{se $ \ \pi \le t \lt 2 \pi $}</span>
<span id="cb8-28"><a href="software.html#cb8-28"></a>				\end{cases} $$</span>
<span id="cb8-29"><a href="software.html#cb8-29"></a>			<span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-30"><a href="software.html#cb8-30"></a>		<span class="kw">&lt;/div&gt;</span></span>
<span id="cb8-31"><a href="software.html#cb8-31"></a>	<span class="kw">&lt;/blockquote&gt;</span></span>
<span id="cb8-32"><a href="software.html#cb8-32"></a><span class="kw">&lt;/section&gt;</span></span></code></pre></div>
<p>Come visibile in questo esempio, l’attributo <em>data-background-iframe</em> definisce il link all’animzione; il titolo della slide è contenuto in un <em>header</em>, il testo nei paragrafi e il <em>blockquote</em> racchiude invece il testo dell’esempio. La classe <em>fragment</em> consente invece la comparsa graduale degli elementi.</p>
<p>Le formule matematiche vengono visualizzate grazie al <em>display engine</em> <a href="https://www.mathjax.org/"><em><strong>MathJax</strong></em></a>.</p>
<p><br></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="commento.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bibliografia.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Report.pdf", "Report.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
